<!DOCTYPE html>
<html lang="ru">

<head>
    <title>Визуализатор</title>
    <link rel="stylesheet" href="assets/css/vizualizator.css">
</head>

<body>

    <div id="app">
        <vizualizator></vizualizator>
    </div>

    <template id="vizualizator-template">
        <div id="vizualizator-app">
            <h1>Визуализатор</h1>
            <!-- preloads images-->
            <p v-for="(item, index) in imgArr" :id="'pattern-'+index"></p>
            
            <div class="main-canvas">
                <v-stage ref="stage" :config="configKonva">
                    <v-layer ref="layer">
                        <v-image :config="backgroundImg"></v-image>
                    </v-layer>

                    <v-layer ref="layer">
                        <v-line ref="line" v-for="item in poligonsArr" :key="item.id" :config="item.config" @mouseover="handleMouseOver"
                            @mouseout="handleMouseOut" @click="handleMouseClick" />
                    </v-layer>
                </v-stage>
            </div>

            <div class="toolbar">

                <div class="toolbar-materials">
                    <h3>Наложение цвета</h3>
                    <button v-on:click="changeColor" class="material-select material-1"> </button>
                    <button v-on:click="changeColor" class="material-select material-2"> </button>
                    <button v-on:click="changeColor" class="material-select material-3"> </button>
                </div>
                <div class="toolbar-materials">
                    <h3>Наложение паттернов</h3>
                    <button v-on:click="changeMaterial" class="material-select" style="background: url(assets/img/materials/Bradshaw.jpg);">
                    </button>
                    <button v-on:click="changeMaterial" class="material-select" style="background: url(assets/img/materials/Zirix.jpg);">
                    </button>
                    <button v-on:click="changeMaterial" class="material-select" style="background: url(assets/img/materials/CK230_Mykonos_Beige.jpg);">
                    </button>
                </div>
                <div class="toolbar-materials">
                    <h3>Наложение фотографий</h3>                    
                    <button 
                        v-on:click="changePhoto" 
                        v-for="(item, index) in groopsArr" 
                        :id="'material_'+index"
                        class="material-select">
                        {{ item.name }}
                    </button>
                </div>
                <div class="toolbar-materials">
                    <h3>Общий сброс</h3>
                    <button v-on:click="resetColor" class="material-select" id="material-reset">Сброс</button>
                </div>
            </div>
            <div style="clear: both;"></div>            
        </div>
    </template>

    <script src="assets/js/vuejs/vue.js"></script>
    <script src="assets/js/konva.min.js"></script>
    <script src="assets/js/vue-konva.min.js"></script>
    <script src="assets/js/axios.min.js"></script>
    <script src="assets/js/vuejs/app_vizualizator_v3.js
    "></script>

</body>

</html>